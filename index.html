<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§™‡•å‡§ß‡•á ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡§æ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="leaves" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23leaves)"/></svg>');
            z-index: -1;
        }

        .container {
            width: 90%;
            max-width: 700px;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        #result-box {
            display: none;
        }

        #care-tips-box {
            display: none;
        }

        .loading-spinner {
            border: 4px solid rgba(34, 197, 94, 0.2);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border-left-color: #22c55e;
            animation: spin 1s ease infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .plant-card {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .care-tip {
            background: linear-gradient(135deg, #0d9488 0%, #14b8a6 100%);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            box-shadow: 0 8px 32px rgba(34, 197, 94, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
            box-shadow: 0 12px 40px rgba(34, 197, 94, 0.4);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            box-shadow: 0 8px 32px rgba(59, 130, 246, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            box-shadow: 0 12px 40px rgba(59, 130, 246, 0.4);
            transform: translateY(-2px);
        }

        .btn-accent {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            box-shadow: 0 8px 32px rgba(245, 158, 11, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-accent:hover {
            background: linear-gradient(135deg, #d97706 0%, #b45309 100%);
            box-shadow: 0 12px 40px rgba(245, 158, 11, 0.4);
            transform: translateY(-2px);
        }

        .btn-identify {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            box-shadow: 0 8px 32px rgba(139, 92, 246, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-identify:hover {
            background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);
            box-shadow: 0 12px 40px rgba(139, 92, 246, 0.4);
            transform: translateY(-2px);
        }

        .media-container {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .info-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .confidence-bar {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
        }

        .confidence-fill {
            background: linear-gradient(90deg, #22c55e 0%, #16a34a 100%);
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeInUp 0.6s ease-out;
        }

        .leaf-icon {
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .title-gradient {
            background: linear-gradient(135deg, #059669 0%, #0d9488 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center p-4">

    <div class="container rounded-3xl shadow-2xl p-6 md:p-10 text-center animate-fade-in">
        <div class="flex items-center justify-center mb-6">
            <div class="leaf-icon text-6xl mr-4">üåø</div>
            <div>
                <h1 class="text-4xl font-bold mb-2 title-gradient">‡§™‡•å‡§ß‡•á ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡§æ</h1>
                <div class="flex items-center justify-center text-sm text-green-600 font-medium">
                    <span class="mr-2">üî¨</span>
                    <span>AI-Powered Plant Recognition</span>
                </div>
            </div>
        </div>
        <p class="text-gray-700 mb-8 text-lg">‡§Ö‡§™‡§®‡•Ä ‡§ï‡•à‡§Æ‡§∞‡§æ ‡§Ø‡§æ ‡§´‡•ã‡§ü‡•ã ‡§∏‡•á ‡§™‡•å‡§ß‡•ã‡§Ç ‡§ï‡•ã ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§™‡§π‡§ö‡§æ‡§®‡•á‡§Ç ‡§î‡§∞ ‡§â‡§®‡§ï‡•Ä ‡§¶‡•á‡§ñ‡§≠‡§æ‡§≤ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§®‡•á‡§Ç‡•§</p>

        <div id="media-container" class="media-container relative w-full aspect-video rounded-[2rem] mb-6 overflow-hidden flex items-center justify-center shadow-2xl">
            <video id="video-stream" class="absolute inset-0 w-full h-full object-cover rounded-[2rem]" style="display:none;"></video>
            <img id="preview-image" class="absolute inset-0 w-full h-full object-contain p-4 rounded-[2rem]" src="https://placehold.co/600x400/059669/ffffff?text=‡§Ü‡§™‡§ï‡•Ä+‡§§‡§∏‡•ç‡§µ‡•Ä‡§∞+‡§Ø‡§π‡§æ‡§Å+‡§¶‡§ø‡§ñ‡§æ‡§à+‡§¶‡•á‡§ó‡•Ä" alt="‡§õ‡§µ‡§ø ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§µ‡§≤‡•ã‡§ï‡§®">
            <div id="placeholder-text" class="absolute flex flex-col items-center justify-center text-white font-medium">
                <div class="text-6xl mb-4 opacity-60 animate-bounce">üå±</div>
                <span class="text-lg">‡§Ü‡§™‡§ï‡•Ä ‡§§‡§∏‡•ç‡§µ‡•Ä‡§∞ ‡§Ø‡§π‡§æ‡§Å ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§ó‡•Ä</span>
                <span class="text-sm opacity-75 mt-2">‡§´‡•ã‡§ü‡•ã ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§æ ‡§ï‡•à‡§Æ‡§∞‡§æ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç</span>
            </div>
        </div>

        <div id="controls" class="flex flex-col md:flex-row gap-4 mb-8">
            <label for="image-upload" class="btn-primary flex-1 w-full md:w-auto cursor-pointer text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 flex items-center justify-center">
                <input type="file" id="image-upload" class="hidden" accept="image/*">
                <span class="mr-2 text-xl">üì∑</span>
                ‡§´‡•ã‡§ü‡•ã ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç
            </label>
            <button id="camera-btn" class="btn-secondary flex-1 w-full md:w-auto text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 flex items-center justify-center">
                <span class="mr-2 text-xl">üìπ</span>
                ‡§ï‡•à‡§Æ‡§∞‡§æ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç
            </button>
            <button id="capture-btn" class="btn-accent flex-1 w-full md:w-auto text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 flex items-center justify-center" style="display:none;">
                <span class="mr-2 text-xl">üì∏</span>
                ‡§´‡•ã‡§ü‡•ã ‡§≤‡•á‡§Ç
            </button>
        </div>

        <button id="identify-btn" class="btn-identify w-full text-white font-bold py-5 px-8 rounded-xl transition-all duration-300 mb-6 flex items-center justify-center text-lg" style="display:none;">
            <span class="mr-3 text-2xl">üîç</span>
            ‡§™‡•å‡§ß‡•á ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç
            <span class="ml-3 text-2xl">üå±</span>
        </button>

        <div id="status-message" class="text-gray-500 font-medium mb-4" style="display:none;"></div>
        <div id="loading-container" class="flex justify-center items-center mb-4" style="display:none;">
            <div class="loading-spinner"></div>
        </div>

        <canvas id="hidden-canvas" style="display:none;"></canvas>

        <div id="result-box" class="plant-card rounded-2xl p-6 shadow-2xl mb-6 animate-fade-in">
            <div class="flex items-center justify-center mb-6">
                <span class="text-3xl mr-3">üåø</span>
                <h2 class="text-2xl font-bold">‡§™‡§π‡§ö‡§æ‡§® ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ</h2>
                <span class="text-3xl ml-3">‚ú®</span>
            </div>
            <div id="plant-info" class="text-left space-y-4">
                <div class="info-card rounded-xl p-5">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">üè∑Ô∏è</span>
                        <h3 class="font-semibold text-lg">‡§™‡•å‡§ß‡•á ‡§ï‡§æ ‡§®‡§æ‡§Æ:</h3>
                    </div>
                    <p id="plant-name" class="text-2xl font-bold ml-11">-</p>
                </div>
                <div class="info-card rounded-xl p-5">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">üî¨</span>
                        <h3 class="font-semibold text-lg">‡§µ‡•à‡§ú‡•ç‡§û‡§æ‡§®‡§ø‡§ï ‡§®‡§æ‡§Æ:</h3>
                    </div>
                    <p id="scientific-name" class="italic text-lg ml-11">-</p>
                </div>
                <div class="info-card rounded-xl p-5">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">üìù</span>
                        <h3 class="font-semibold text-lg">‡§µ‡§ø‡§µ‡§∞‡§£:</h3>
                    </div>
                    <p id="plant-description" class="ml-11 leading-relaxed">-</p>
                </div>
                <div class="info-card rounded-xl p-5">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">üéØ</span>
                        <h3 class="font-semibold text-lg">‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø‡§§‡§æ:</h3>
                    </div>
                    <div class="flex items-center ml-11">
                        <div id="confidence-bar" class="confidence-bar rounded-full h-4 flex-1 mr-4">
                            <div id="confidence-fill" class="confidence-fill h-full rounded-full transition-all duration-1000" style="width: 0%"></div>
                        </div>
                        <span id="confidence-text" class="font-bold text-xl">0%</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="care-tips-box" class="care-tip rounded-2xl p-6 shadow-2xl animate-fade-in">
            <div class="flex items-center justify-center mb-6">
                <span class="text-3xl mr-3">üå±</span>
                <h2 class="text-2xl font-bold">‡§¶‡•á‡§ñ‡§≠‡§æ‡§≤ ‡§ï‡•Ä ‡§∏‡•Å‡§ù‡§æ‡§µ</h2>
                <span class="text-3xl ml-3">üíö</span>
            </div>
            <div id="care-tips" class="text-left space-y-4">
                <div class="info-card rounded-xl p-5 hover:scale-105 transition-transform duration-300">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">üíß</span>
                        <h3 class="font-semibold text-lg">‡§™‡§æ‡§®‡•Ä:</h3>
                    </div>
                    <p id="watering-tip" class="ml-11 leading-relaxed">-</p>
                </div>
                <div class="info-card rounded-xl p-5 hover:scale-105 transition-transform duration-300">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">‚òÄÔ∏è</span>
                        <h3 class="font-semibold text-lg">‡§ß‡•Ç‡§™:</h3>
                    </div>
                    <p id="sunlight-tip" class="ml-11 leading-relaxed">-</p>
                </div>
                <div class="info-card rounded-xl p-5 hover:scale-105 transition-transform duration-300">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">üå°Ô∏è</span>
                        <h3 class="font-semibold text-lg">‡§§‡§æ‡§™‡§Æ‡§æ‡§®:</h3>
                    </div>
                    <p id="temperature-tip" class="ml-11 leading-relaxed">-</p>
                </div>
                <div class="info-card rounded-xl p-5 hover:scale-105 transition-transform duration-300">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">üåø</span>
                        <h3 class="font-semibold text-lg">‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§∏‡•Å‡§ù‡§æ‡§µ:</h3>
                    </div>
                    <p id="extra-tip" class="ml-11 leading-relaxed">-</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const imageUpload = document.getElementById('image-upload');
        const cameraBtn = document.getElementById('camera-btn');
        const captureBtn = document.getElementById('capture-btn');
        const identifyBtn = document.getElementById('identify-btn');
        const videoStream = document.getElementById('video-stream');
        const previewImage = document.getElementById('preview-image');
        const placeholderText = document.getElementById('placeholder-text');
        const statusMessage = document.getElementById('status-message');
        const loadingContainer = document.getElementById('loading-container');
        const resultBox = document.getElementById('result-box');
        const careTipsBox = document.getElementById('care-tips-box');
        const hiddenCanvas = document.getElementById('hidden-canvas');

        let currentStream = null;
        let hasImage = false;

        // ‡§™‡•å‡§ß‡•ã‡§Ç ‡§ï‡•Ä ‡§°‡•á‡§ü‡§æ‡§¨‡•á‡§∏ (‡§°‡•á‡§Æ‡•ã ‡§ï‡•á ‡§≤‡§ø‡§è)
        const plantDatabase = [
            {
                name: "‡§ó‡•Å‡§≤‡§æ‡§¨",
                scientific: "Rosa",
                description: "‡§ó‡•Å‡§≤‡§æ‡§¨ ‡§è‡§ï ‡§∏‡•Å‡§Ç‡§¶‡§∞ ‡§´‡•Ç‡§≤ ‡§µ‡§æ‡§≤‡§æ ‡§™‡•å‡§ß‡§æ ‡§π‡•à ‡§ú‡•ã ‡§Ö‡§™‡§®‡•Ä ‡§ñ‡•Å‡§∂‡§¨‡•Ç ‡§î‡§∞ ‡§∞‡§Ç‡§ó-‡§¨‡§ø‡§∞‡§Ç‡§ó‡•á ‡§´‡•Ç‡§≤‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§∏‡§ø‡§¶‡•ç‡§ß ‡§π‡•à‡•§",
                watering: "‡§∏‡§™‡•ç‡§§‡§æ‡§π ‡§Æ‡•á‡§Ç 2-3 ‡§¨‡§æ‡§∞ ‡§™‡§æ‡§®‡•Ä ‡§¶‡•á‡§Ç, ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•ã ‡§®‡§Æ ‡§∞‡§ñ‡•á‡§Ç ‡§≤‡•á‡§ï‡§ø‡§® ‡§ú‡§≤‡§≠‡§∞‡§æ‡§µ ‡§® ‡§ï‡§∞‡•á‡§Ç‡•§",
                sunlight: "‡§¶‡§ø‡§® ‡§Æ‡•á‡§Ç 6-8 ‡§ò‡§Ç‡§ü‡•á ‡§∏‡•Ä‡§ß‡•Ä ‡§ß‡•Ç‡§™ ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§",
                temperature: "15-25¬∞C ‡§ï‡§æ ‡§§‡§æ‡§™‡§Æ‡§æ‡§® ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§",
                extra: "‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§Æ‡•Å‡§∞‡§ù‡§æ‡§è ‡§´‡•Ç‡§≤‡•ã‡§Ç ‡§ï‡•ã ‡§π‡§ü‡§æ‡§§‡•á ‡§∞‡§π‡•á‡§Ç ‡§î‡§∞ ‡§Æ‡§π‡•Ä‡§®‡•á ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§ñ‡§æ‡§¶ ‡§°‡§æ‡§≤‡•á‡§Ç‡•§"
            },
            {
                name: "‡§§‡•Å‡§≤‡§∏‡•Ä",
                scientific: "Ocimum tenuiflorum",
                description: "‡§§‡•Å‡§≤‡§∏‡•Ä ‡§è‡§ï ‡§™‡§µ‡§ø‡§§‡•ç‡§∞ ‡§™‡•å‡§ß‡§æ ‡§π‡•à ‡§ú‡•ã ‡§Ö‡§™‡§®‡•á ‡§î‡§∑‡§ß‡•Ä‡§Ø ‡§ó‡•Å‡§£‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§æ‡§®‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§",
                watering: "‡§∞‡•ã‡§ú ‡§∏‡•Å‡§¨‡§π-‡§∂‡§æ‡§Æ ‡§•‡•ã‡§°‡§º‡§æ ‡§™‡§æ‡§®‡•Ä ‡§¶‡•á‡§Ç, ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•ã ‡§∏‡•Ç‡§ñ‡§®‡•á ‡§® ‡§¶‡•á‡§Ç‡•§",
                sunlight: "‡§¶‡§ø‡§® ‡§Æ‡•á‡§Ç 4-6 ‡§ò‡§Ç‡§ü‡•á ‡§ß‡•Ç‡§™ ‡§™‡§∞‡•ç‡§Ø‡§æ‡§™‡•ç‡§§ ‡§π‡•à‡•§",
                temperature: "20-30¬∞C ‡§ï‡§æ ‡§§‡§æ‡§™‡§Æ‡§æ‡§® ‡§â‡§™‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§π‡•à‡•§",
                extra: "‡§™‡§§‡•ç‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§§‡•ã‡§°‡§º‡§§‡•á ‡§∞‡§π‡•á‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§®‡§à ‡§™‡§§‡•ç‡§§‡§ø‡§Ø‡§æ‡§Ç ‡§Ü‡§§‡•Ä ‡§∞‡§π‡•á‡§Ç‡•§"
            },
            {
                name: "‡§®‡•Ä‡§Æ",
                scientific: "Azadirachta indica",
                description: "‡§®‡•Ä‡§Æ ‡§è‡§ï ‡§î‡§∑‡§ß‡•Ä‡§Ø ‡§™‡•á‡§°‡§º ‡§π‡•à ‡§ú‡•ã ‡§Ö‡§™‡§®‡•á ‡§è‡§Ç‡§ü‡•Ä‡§¨‡•à‡§ï‡•ç‡§ü‡•Ä‡§∞‡§ø‡§Ø‡§≤ ‡§ó‡•Å‡§£‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§∏‡§ø‡§¶‡•ç‡§ß ‡§π‡•à‡•§",
                watering: "‡§∏‡§™‡•ç‡§§‡§æ‡§π ‡§Æ‡•á‡§Ç 1-2 ‡§¨‡§æ‡§∞ ‡§ó‡§π‡§∞‡§æ ‡§™‡§æ‡§®‡•Ä ‡§¶‡•á‡§Ç‡•§",
                sunlight: "‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡•Ç‡§∞‡•ç‡§Ø ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ ‡§™‡§∏‡§Ç‡§¶ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§",
                temperature: "25-35¬∞C ‡§ï‡§æ ‡§§‡§æ‡§™‡§Æ‡§æ‡§® ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§π‡•à‡•§",
                extra: "‡§Ø‡§π ‡§∏‡•Ç‡§ñ‡§æ ‡§∏‡§π‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§™‡•å‡§ß‡§æ ‡§π‡•à, ‡§Ö‡§ß‡§ø‡§ï ‡§™‡§æ‡§®‡•Ä ‡§® ‡§¶‡•á‡§Ç‡•§"
            },
            {
                name: "‡§Ü‡§Æ",
                scientific: "Mangifera indica",
                description: "‡§Ü‡§Æ ‡§≠‡§æ‡§∞‡§§ ‡§ï‡§æ ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§´‡§≤ ‡§π‡•à ‡§î‡§∞ ‡§á‡§∏‡§ï‡•á ‡§™‡•á‡§°‡§º ‡§¨‡§π‡•Å‡§§ ‡§¨‡§°‡§º‡•á ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§",
                watering: "‡§ó‡§∞‡•ç‡§Æ‡§ø‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Ö‡§ß‡§ø‡§ï ‡§™‡§æ‡§®‡•Ä, ‡§∏‡§∞‡•ç‡§¶‡§ø‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ï‡§Æ ‡§™‡§æ‡§®‡•Ä ‡§¶‡•á‡§Ç‡•§",
                sunlight: "‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡•Ç‡§∞‡•ç‡§Ø ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§",
                temperature: "24-27¬∞C ‡§ï‡§æ ‡§§‡§æ‡§™‡§Æ‡§æ‡§® ‡§Ü‡§¶‡§∞‡•ç‡§∂ ‡§π‡•à‡•§",
                extra: "‡§´‡§≤‡•ã‡§Ç ‡§ï‡•á ‡§Æ‡•å‡§∏‡§Æ ‡§Æ‡•á‡§Ç ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§™‡•ã‡§∑‡§ï ‡§§‡§§‡•ç‡§µ ‡§¶‡•á‡§Ç‡•§"
            },
            {
                name: "‡§Æ‡§®‡•Ä ‡§™‡•ç‡§≤‡§æ‡§Ç‡§ü",
                scientific: "Epipremnum aureum",
                description: "‡§Æ‡§®‡•Ä ‡§™‡•ç‡§≤‡§æ‡§Ç‡§ü ‡§è‡§ï ‡§≤‡•ã‡§ï‡§™‡•ç‡§∞‡§ø‡§Ø ‡§ò‡§∞‡•á‡§≤‡•Ç ‡§™‡•å‡§ß‡§æ ‡§π‡•à ‡§ú‡•ã ‡§π‡§µ‡§æ ‡§ï‡•ã ‡§∂‡•Å‡§¶‡•ç‡§ß ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§",
                watering: "‡§∏‡§™‡•ç‡§§‡§æ‡§π ‡§Æ‡•á‡§Ç 1-2 ‡§¨‡§æ‡§∞ ‡§™‡§æ‡§®‡•Ä ‡§¶‡•á‡§Ç, ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§∏‡•Ç‡§ñ‡§®‡•á ‡§™‡§∞‡•§",
                sunlight: "‡§Ö‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡§ï‡•ç‡§∑ ‡§∞‡•ã‡§∂‡§®‡•Ä ‡§™‡§∏‡§Ç‡§¶ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§",
                temperature: "18-24¬∞C ‡§ï‡§æ ‡§§‡§æ‡§™‡§Æ‡§æ‡§® ‡§â‡§™‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§π‡•à‡•§",
                extra: "‡§á‡§∏‡•á ‡§™‡§æ‡§®‡•Ä ‡§Æ‡•á‡§Ç ‡§≠‡•Ä ‡§â‡§ó‡§æ‡§Ø‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§"
            }
        ];

        // ‡§´‡§æ‡§á‡§≤ ‡§Ö‡§™‡§≤‡•ã‡§° ‡§π‡•à‡§Ç‡§°‡§≤‡§∞
        imageUpload.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    previewImage.src = e.target.result;
                    previewImage.style.display = 'block';
                    placeholderText.style.display = 'none';
                    videoStream.style.display = 'none';
                    hasImage = true;
                    identifyBtn.style.display = 'block';
                    stopCamera();
                };
                reader.readAsDataURL(file);
            }
        });

        // ‡§ï‡•à‡§Æ‡§∞‡§æ ‡§¨‡§ü‡§® ‡§π‡•à‡§Ç‡§°‡§≤‡§∞
        cameraBtn.addEventListener('click', async function() {
            try {
                currentStream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: 'environment' } 
                });
                videoStream.srcObject = currentStream;
                videoStream.style.display = 'block';
                previewImage.style.display = 'none';
                placeholderText.style.display = 'none';
                captureBtn.style.display = 'block';
                cameraBtn.textContent = 'üìπ ‡§ï‡•à‡§Æ‡§∞‡§æ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç';
                
                videoStream.play();
            } catch (error) {
                showStatus('‡§ï‡•à‡§Æ‡§∞‡§æ ‡§è‡§ï‡•ç‡§∏‡•á‡§∏ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤ ‡§∏‡§ï‡§æ‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§´‡•ã‡§ü‡•ã ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç‡•§', 'error');
            }
        });

        // ‡§´‡•ã‡§ü‡•ã ‡§ï‡•à‡§™‡•ç‡§ö‡§∞ ‡§π‡•à‡§Ç‡§°‡§≤‡§∞
        captureBtn.addEventListener('click', function() {
            const canvas = hiddenCanvas;
            const context = canvas.getContext('2d');
            
            canvas.width = videoStream.videoWidth;
            canvas.height = videoStream.videoHeight;
            
            context.drawImage(videoStream, 0, 0);
            
            const imageData = canvas.toDataURL('image/jpeg');
            previewImage.src = imageData;
            previewImage.style.display = 'block';
            videoStream.style.display = 'none';
            placeholderText.style.display = 'none';
            
            hasImage = true;
            identifyBtn.style.display = 'block';
            captureBtn.style.display = 'none';
            cameraBtn.textContent = 'üìπ ‡§ï‡•à‡§Æ‡§∞‡§æ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç';
            
            stopCamera();
        });

        // ‡§™‡§π‡§ö‡§æ‡§® ‡§¨‡§ü‡§® ‡§π‡•à‡§Ç‡§°‡§≤‡§∞
        identifyBtn.addEventListener('click', function() {
            if (hasImage) {
                identifyPlant();
            }
        });

        // ‡§ï‡•à‡§Æ‡§∞‡§æ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®
        function stopCamera() {
            if (currentStream) {
                currentStream.getTracks().forEach(track => track.stop());
                currentStream = null;
            }
        }

        // ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏ ‡§Æ‡•à‡§∏‡•á‡§ú ‡§¶‡§ø‡§ñ‡§æ‡§®‡•á ‡§ï‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®
        function showStatus(message, type = 'info') {
            statusMessage.textContent = message;
            statusMessage.style.display = 'block';
            statusMessage.className = type === 'error' ? 'text-red-500 font-medium mb-4' : 'text-gray-500 font-medium mb-4';
            
            setTimeout(() => {
                statusMessage.style.display = 'none';
            }, 3000);
        }

        // ‡§™‡•å‡§ß‡•á ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®
        function identifyPlant() {
            loadingContainer.style.display = 'flex';
            resultBox.style.display = 'none';
            careTipsBox.style.display = 'none';
            
            // ‡§á‡§Æ‡•á‡§ú ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡§®‡§æ
            analyzeImage().then(result => {
                displayResult(result.plant, result.confidence);
                loadingContainer.style.display = 'none';
            });
        }

        // ‡§á‡§Æ‡•á‡§ú ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®
        function analyzeImage() {
            return new Promise((resolve) => {
                setTimeout(() => {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    const img = new Image();
                    
                    img.onload = function() {
                        canvas.width = 100;
                        canvas.height = 100;
                        ctx.drawImage(img, 0, 0, 100, 100);
                        
                        // ‡§á‡§Æ‡•á‡§ú ‡§ï‡•á ‡§∞‡§Ç‡§ó ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£
                        const imageData = ctx.getImageData(0, 0, 100, 100);
                        const data = imageData.data;
                        
                        let greenPixels = 0;
                        let redPixels = 0;
                        let totalPixels = data.length / 4;
                        
                        for (let i = 0; i < data.length; i += 4) {
                            const r = data[i];
                            const g = data[i + 1];
                            const b = data[i + 2];
                            
                            // ‡§π‡§∞‡•á ‡§∞‡§Ç‡§ó ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö (‡§™‡§§‡•ç‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è)
                            if (g > r && g > b && g > 100) {
                                greenPixels++;
                            }
                            // ‡§≤‡§æ‡§≤ ‡§∞‡§Ç‡§ó ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö (‡§´‡•Ç‡§≤‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è)
                            if (r > g && r > b && r > 100) {
                                redPixels++;
                            }
                        }
                        
                        const greenRatio = greenPixels / totalPixels;
                        const redRatio = redPixels / totalPixels;
                        
                        let selectedPlant;
                        let confidence;
                        
                        // ‡§∞‡§Ç‡§ó ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§™‡•å‡§ß‡•á ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§®
                        if (redRatio > 0.15) {
                            // ‡§≤‡§æ‡§≤ ‡§∞‡§Ç‡§ó ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§π‡•à - ‡§ó‡•Å‡§≤‡§æ‡§¨ ‡§ï‡•Ä ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ
                            selectedPlant = plantDatabase[0]; // ‡§ó‡•Å‡§≤‡§æ‡§¨
                            confidence = Math.floor(85 + Math.random() * 10);
                        } else if (greenRatio > 0.3) {
                            // ‡§π‡§∞‡§æ ‡§∞‡§Ç‡§ó ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§π‡•à - ‡§™‡§§‡•ç‡§§‡•á‡§¶‡§æ‡§∞ ‡§™‡•å‡§ß‡•á
                            const leafyPlants = [plantDatabase[1], plantDatabase[2], plantDatabase[4]]; // ‡§§‡•Å‡§≤‡§∏‡•Ä, ‡§®‡•Ä‡§Æ, ‡§Æ‡§®‡•Ä ‡§™‡•ç‡§≤‡§æ‡§Ç‡§ü
                            selectedPlant = leafyPlants[Math.floor(Math.random() * leafyPlants.length)];
                            confidence = Math.floor(80 + Math.random() * 15);
                        } else if (greenRatio > 0.15) {
                            // ‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§π‡§∞‡§æ ‡§∞‡§Ç‡§ó - ‡§´‡§≤‡•ã‡§Ç ‡§ï‡•á ‡§™‡•á‡§°‡§º
                            selectedPlant = plantDatabase[3]; // ‡§Ü‡§Æ
                            confidence = Math.floor(75 + Math.random() * 15);
                        } else {
                            // ‡§ï‡§Æ ‡§∞‡§Ç‡§ó - ‡§∞‡•à‡§Ç‡§°‡§Æ ‡§ö‡•Å‡§®‡§æ‡§µ
                            selectedPlant = plantDatabase[Math.floor(Math.random() * plantDatabase.length)];
                            confidence = Math.floor(60 + Math.random() * 20);
                        }
                        
                        resolve({ plant: selectedPlant, confidence: confidence });
                    };
                    
                    img.src = previewImage.src;
                }, 1500);
            });
        }

        // ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§¶‡§ø‡§ñ‡§æ‡§®‡•á ‡§ï‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®
        function displayResult(plant, confidence) {
            document.getElementById('plant-name').textContent = plant.name;
            document.getElementById('scientific-name').textContent = plant.scientific;
            document.getElementById('plant-description').textContent = plant.description;
            document.getElementById('confidence-text').textContent = confidence + '%';
            document.getElementById('confidence-fill').style.width = confidence + '%';
            
            // ‡§¶‡•á‡§ñ‡§≠‡§æ‡§≤ ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä
            document.getElementById('watering-tip').textContent = plant.watering;
            document.getElementById('sunlight-tip').textContent = plant.sunlight;
            document.getElementById('temperature-tip').textContent = plant.temperature;
            document.getElementById('extra-tip').textContent = plant.extra;
            
            resultBox.style.display = 'block';
            careTipsBox.style.display = 'block';
            
            // ‡§∏‡•ç‡§Æ‡•Ç‡§• ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤
            resultBox.scrollIntoView({ behavior: 'smooth' });
        }

        // ‡§™‡•á‡§ú ‡§≤‡•ã‡§° ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§ï‡•à‡§Æ‡§∞‡§æ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§®‡§æ
        window.addEventListener('beforeunload', stopCamera);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'981e14756598a756',t:'MTc1ODMzNzMwNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
